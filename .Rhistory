getcwd()
getwd()
d.otrain = fread("project/volume/data/raw/Stat_380_train.csv")
library("dplyr")
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
typeof(d.otrain)
d.otrain
?fread
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
View(d.otest)
type(d.otrain)
typeof(d.otrain)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
typeof(d.otrain)
View(d.otest)
class(d.otrain)
d.full = rbind(d.otrain, d.otest)
View(d.full)
class(d.full)
d.full = drop_na(d.full)
library("tidyr")
d.full = drop_na(d.full)
?save
rm(readWithParams())
rm(readWithParams)
?fwrite
??fwrite
?fread
fwrite(d.full)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
getwd()
fwrite(d.full, "~/dev/house_price_null_model/project/volume/data/interim/")
fwrite(d.full, "~/dev/house_price_null_model/project/volume/data/interim/data_full.csv")
library("data.table")
library("tidyr")
?bar
?plot
?barplot
std
?std
?stddev
?sd
?tapply
?lapply
?sapply
?capply
tapply
?tapply
feature.vars = tapply(d.full, colnames(d.full), sd)
d.full[, .(colnames(d.full))]
summary(d.full)
attributes(summary(d.full))
plot(summary(d.full))
?summary
sd(d.full)
sapply(d.full, sd)
?is.numeric
d.full[, lapply(.SD, function(x) is.numeric(x))]
?complete.cases
d.full[d.full[, lapply(.SD, function(x) is.numeric(x))]]
d.full[d.full[, lapply(.SD, function(x) is.numeric(x))]]
d.full[, lapply(.SD, function(x) is.numeric(x))]
summary(d.full)
apply(d.full, 2, sd)
?plyr::colwise
?colwise
install.packages("plyr")
?plyr::colwise
numcolwise
?plyr::numcolwise
library("plyr")
numcolwise(d.full, 2, sd)
numcolwise(sd)(d.full)
barchart(numcolwise(sd)(d.full))
barplot(numcolwise(sd)(d.full))
barplot(as.vector(numcolwise(sd)(d.full)))
as.vector(numcolwise(sd)(d.full))
barplot(as.list(numcolwise(sd)(d.full)))
numcolwise(sd)(d.full).shape
dim(numcolwise(sd)(d.full))
?t
barplot(as.vector(numcolwise(sd)(d.full)))
numcolwise(sd)(d.full).values
barplot(as.matrix(numcolwise(sd)(d.full)))
barplot(as.matrix(numcolwise(sd)(d.full)), log="Y")
barplot(as.matrix(numcolwise(sd)(d.full)), log="y")
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45, las=2)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45, las=2, at=midpts)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45, las=2, at="midpts")
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45, las=2)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45, las=2, cex=0.8)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45, las=2, cex.axis=0.8)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45, las=2, xpd=T)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45, las=2)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=30, las=2)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=30, las=1)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=30, las=3)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=30, las=2)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=30, las=3)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=30, las=2)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=30)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", srt=45)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y")
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", las=2, cex.names=0.8)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", las=2, cex.names=0.5)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", las=2, cex.names=0.75)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", las=2, cex.names=0.7)
barplot(as.matrix(numcolwise(sd)(d.full)), log="y", las=2, cex.names=0.65)
feature.vars = numcolwise(sd)(d.full)
barplot(as.matrix(feature.vars), log="y", las=2, cex.names=0.65)
title("xxx")
title("Numeric Feature Variances")
graphics.off()
barplot(as.matrix(feature.vars), log="y", las=2, cex.names=0.65)
title("Numeric Feature Variances")
?heatmap
y = d.full[,SalePrice]
d.full = d.full[,-SalePrice]
d.full = fread("project/volume/data/interim/data_full.csv")
y = d.full[,SalePrice]
d.full = d.full[-SalePrice]
View(d.full)
source('~/dev/house_price_null_model/project/src/models/model_explore.R', echo=TRUE)
d.full <- subset(d.full, select = -c(SalePrice))
source('~/dev/house_price_null_model/project/src/models/model_explore.R', echo=TRUE)
?heatmap
heatmap(as.matrix(d.full))
colnames(d.full)
head(d.full)
d.numonly = subset(d.full, select = -c(BldgType, Heating, CentralAir))
head(d.numonly)
heatmap(as.matrix(d.numonly))
fit = lm(y ~ x1 + x2 + x3 + x4 + x5)
source('~/dev/house_price_null_model/project/src/models/model_explore.R', echo=TRUE)
plot(fit)
par(mfrow=c(2,2))
plot(fit)
par(mfrow=c(2,2))
plot(fit)
d.full = d.full[-6020,]
fit = lm(y ~ x1 + x2 + x3 + x4 + x5)
par(mfrow=c(2,2))
plot(fit)
cooks.distance(fit)
source('~/dev/house_price_null_model/project/required/requirements.R', echo=TRUE)
library("outliers")
?outlier
outlier(d.full)
head(d.full)
d.numonly = subset(d.full, select = -c(BldgType, Heating, CentralAir))
outlier(d.full)
outlier(d.numonly)
rm.outlier(d.numonly)
nrow(d.numonly)
dim(d.numonly)
outlier(d.numonly)
outlier(d.full)
tail(x5)
all(x5==0)
?subset
d.full = subset(d.full, subset=outlier(d.numonly, logical = T))
outlier(d.numonly, logical = T)
dim(outlier(d.numonly, logical = T))
outlier.vec = any(outlier(d.numonly, logical = T) == T)
?apply
?rowwise
d.full.nooutlier = d.full[which(apply(outlier(d.numonly, logical = T), 1, any)),]
View(d.full.nooutlier)
x1 = d.full.nooutlier[,LotArea]
x2 = d.full.nooutlier[,YearBuilt]
x3 = d.full.nooutlier[,TotalBsmtSF]
x4 = d.full.nooutlier[,GrLivArea]
x5 = d.full.nooutlier[,PoolArea]
fit = lm(y ~ x1 + x2 + x3 + x4 + x5)
dim(x1)
length(x1)
length(x2)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5)
y.nooutlier = y[which(apply(outlier(d.numonly, logical = T), 1, any)),]
which(apply(outlier(d.numonly, logical = T), 1, any))
outlier(d.numonly)
which(apply(outlier(d.numonly, logical = T), 1, any))
source('~/dev/house_price_null_model/project/src/models/model_explore.R', echo=TRUE)
y = d.full[,SalePrice]
fit = lm(y ~ x1 + x2 + x3 + x4 + x5)
source('~/dev/house_price_null_model/project/src/models/model_explore.R', echo=TRUE)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4)
summary(fit)
?glm
getwd()
fwrite(d.full.nooutlier, "./project/volume/data/processed/data_full_processed_nooutliers.csv")
sqrt(mean(fit$residuals^2))
?sample
d.full.nooutlier
head(d.full.nooutlier)
x6 = d.full.nooutlier[,Heating]
x7 = d.full.nooutlier[,CentralAir]
x8 = d.full.nooutlier[,BldgType]
fit = lm(y ~ x1 + x2 + x3 + x4 + x6)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x7)
summary(fit)
set(x7)
as.set(x7)
?set
library(sets)
as.set(x7)
as.set(x8)
fit = lm(y ~ x1 + x2 + x3 + x4 + x8)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + + x7 + x8)
summary(fit)
rm.outlier()
?rm.outlier
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
d.train = apply(d.train, rm.outlier)
d.train = apply(d.train, FUN=rm.outlier)
?apply
d.train = apply(d.train, FUN=rm.outlier, MARGIN = colnames(d.train))
d.train = apply(d.train, FUN=rm.outlier, MARGIN = 2)
d.train.numonly = subset(d.train, select = -c(BldgType, Heating, CentralAir))
d.train.numonly = subset(d.train, select = -c(BldgType, Heating, CentralAir))
d.test.numonly = subset(d.test, select = -c(BldgType, Heating, CentralAir))
d.train = apply(d.train, FUN=rm.outlier, MARGIN = 2)
d.train.numonly = apply(d.train, FUN=rm.outlier, MARGIN = 2)
head(d.train.numonly)
d.train.numonly = apply(d.train, as.numeric)
d.train.numonly = apply(d.train, FUN=as.numeric, MARGIN = 2)
View(d.train.numonly)
d.otrain = readWithParams("project/volume/data/raw/Stat_380_train.csv")
d.otest = readWithParams("project/volume/data/raw/Stat_380_train.csv")
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
View(d.train.numonly)
d.train.numonly = apply(d.train, FUN=as.numeric, MARGIN = 2)
View(d.train.numonly)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
d.test.numonly = apply(d.test.numonly, FUN=as.numeric, MARGIN = 2)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
d.train.numonly = apply(d.train, FUN=rm.outlier, MARGIN = 2)
d.train.nooutlier = d.full[which(apply(outlier(d.train.numonly, logical = T), 1, any)),]
d.test.nooutlier = d.full[which(apply(outlier(d.test.numonly, logical = T), 1, any)),]
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
fit = lm(y ~ x1 + x2 + x3 + x4 + + x7 + x8)
summary(fit)
fit = lm(y ~ x2 + x3 + x4 + + x7 + x8)
summary(fit)
fit = lm(y ~ x1 + x3 + x4 + + x7 + x8)
summary(fit)
fit = lm(y ~ x1 + x2 + x4 + x7 + x8)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x7 + x8)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x8)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x7)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x7 + x8)
summary(fit)
fit = glm(y ~ x1 + x2 + x3 + x4 + x5 + x7 + x8, family = binomial(link = "logit"))
fit = glm(y ~ x1 + x2 + x3 + x4 + x5 + x7 + x8)
summary(fit)
fit = glm(y ~ x1 + x2 + x3 + x4 + x5)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x8)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x7)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x7)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 )
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x7)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8)
summary(fit)
x1 = sqrt(d.train[,LotArea])
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x6 + x7)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x6)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5)
x1 = apply(d.train[,LotArea], sqrt)
x2 = d.train[,YearBuilt]
x1 = apply(d.train[,LotArea], FUN=sqrt, MARGIN=2)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
dim(x1)
d.test = fread("project/volume/data/interim/data_test.csv")
d.train = fread("project/volume/data/interim/data_train.csv")
d.test = fread("project/volume/data/interim/data_test.csv")
y = d.train[,SalePrice]
x1 = d.train[,LotArea]
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x6)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x7)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5)
summary(fit)
?predict.lm
predict.lm(fit, d.test)
predictions = predict.lm(fit, d.test)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5, data=d.train)
summary(fit)
predictions = predict.lm(fit, d.test)
View(predicion)
View(predictions)
summary(d.train[,SalePrice])
summary(predictions)
predictions = cbind(c(d.test[,Id], predictions))
View(predictions)
predictions = predict.lm(fit, d.test)
predictions = cbind(c(d.test[,Id], predictions))
predictions = predict.lm(fit, d.test)
predictions = cbind(d.test[,Id], predictions)
View(predictions)
?setNames
?names
predictions = setNames(predictions, c("Id", "Prediction"))
View(predictions)
predictions = setNames(predictions, c("Id", "Prediction"))
View(predictions)
?setNames
predictions = setNames(predictions, c("Id", "Prediction"))
View(predictions)
colnames(predictions) = c("Id", "Prediction")
View(predictions)
fwrite(predictions, "./project/predictions.csv")
source('~/dev/house_price_null_model/run_project.R', echo=TRUE)
colnames(predictions) = c("Id", "SalePrice")
fwrite(predictions, "./project/predictions.csv")
View(predictions)
predictions = predict.lm(fit, d.test)
#predictions = cbind(d.test[,Id], predictions)
colnames(predictions) = c(SalePrice")
#predictions = cbind(d.test[,Id], predictions)
colnames(predictions) = c("SalePrice")
#predictions = cbind(d.test[,Id], predictions)
colnames(predictions) = "SalePrice"
#predictions = cbind(d.test[,Id], predictions)
colnames(predictions) = "SalePrice"z
#predictions = cbind(d.test[,Id], predictions)
colnames(predictions) = "SalePrice"zfwrite(predictions, "./project/predictions.csv")
#predictions = cbind(d.test[,Id], predictions)
colnames(predictions) = "SalePrice"
#predictions = cbind(d.test[,Id], predictions)
names(predictions) = "SalePrice"
#predictions = cbind(d.test[,Id], predictions)
names(predictions)[1] = "SalePrice"
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
predictions = as.data.table(predict.lm(fit, d.test))
#predictions = cbind(d.test[,Id], predictions)
names(predictions)[1] = "SalePrice"
fwrite(predictions, "./project/predictions.csv")
d.test[,Id]
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
predictions = cbind(d.test[,Id]="Id", predictions)
predictions = cbind(d.test[,Id], predictions)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
fwrite(predictions, "./project/predictions.csv")
fwrite(predictions, "./project/predictions.csv", row.names = F)
type(predictions[,Id])
typeof(predictions[,Id])
?round
predictions = as.data.table(apply(predict.lm(fit, d.test), 2))
predictions = cbind(d.test[,Id], predictions)
predictions = as.data.table(apply(predict.lm(fit, d.test),FUN=round, MARGIN = 2))
predictions = as.data.table(round(predict.lm(fit, d.test), 2))
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
length(predictions)
length(predictions[,])
length(predictions[,SalePrice])
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
length(predictions[,SalePrice])
fwrite(d.test.numonly, "~/dev/house_price_null_model/project/volume/data/interim/data_test.csv")
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
length(predictions[,SalePrice])
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
length(predictions[,SalePrice])
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
d.train.nooutlier = d.train[which(apply(outlier(d.train.numonly, logical = T), 1, any)),]
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
summary(fit)
sqrt(mean(fit$residuals^2))
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x6, data=d.train)
summary(fit)
View(d.otest)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x2:x4, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x1:x3, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5, data=d.train)
summary(fit)
plot(fit)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
fit = lm(y ~ x2 + x3 + x4 + x5, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x3 + x4 + x5, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x4 + x5, data=d.train)
fit = lm(y ~ x1 + x2 + x3 + x5, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x6, data=d.train)
fit = lm(y ~ x1 + x2 + x3 + x4 + x7, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x8, data=d.train)
summary(fit)
sqrt(mean(fit$residuals^2))
head(d.train)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
fit = lm(y ~ x1 + x2 + x3 + x4 - x8, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 - x4 - x8, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 - x3 + x4 - x8, data=d.train)
summary(fit)
fit = lm(y ~ x1 - x2 + x3 + x4 - x8, data=d.train)
summary(fit)
+
fit = lm(y ~ x1 + x2 + x3 + x4 - x8, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x8, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x8, data=d.train)
summary(fit)
source('~/dev/house_price_null_model/project/src/features/build_features.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
fit = lm(y ~ x1 + x2 + x3 + x4, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x6, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x6 + x7, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x6 + x7 + x8, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x7 + x8, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x7 + x8, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5 + x7, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x5, data=d.train)
summary(fit)
fit = lm(y ~ x1 + x2 + x3 + x4 + x5, data=d.train)
summary(fit)
source('~/dev/house_price_null_model/project/src/models/model_explore.R', echo=TRUE)
barplot(as.matrix(feature.vars), log="y", las=2, cex.names=0.65)
title("Numeric Feature Variances")
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
source('~/dev/house_price_null_model/project/src/models/train_model.r', echo=TRUE)
